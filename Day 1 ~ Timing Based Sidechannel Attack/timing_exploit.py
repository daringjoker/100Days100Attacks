import time
import os
import ctypes
from string import ascii_letters,digits,punctuation
scanspace=ascii_letters+digits
thresh=25
_command="python timed.py "
def time_exec(command):
    timebeg=time.time_ns()
    os.system(command)
    return timebeg-time.time_ns()

def base_condition():
    password=""
    timeold=0
    timenew=0
    prevlevel=0
    count=0
    total_time=0
    while True:
        for char in scanspace:
            count+=1
            timeold=timenew
            command=_command+password+char
            timenew=time_exec(command)
            total_time=total_time+timenew
            avg_time=total_time/count
            percent=(abs(timenew-avg_time)/avg_time)*100
            os.system("cls")
            print(password,end="")
            print(char)
            print(avg_time,percent,thresh-3*1.5**len(password))
            if(abs(percent)>=thresh-len(password)*2 and timeold!=0):
                total_time=0
                count=0
                password=password+char
                os.system("cls")
                print(password)
                break
    
        # break

os.system("cls")
base_condition()
